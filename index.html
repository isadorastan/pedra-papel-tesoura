<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Document</title>
</head>

<body>
  <div id="container">
    <div id="choice">
      <div class="icon">ğŸ¤–</div>
      <h3>Escolha a sua arma:</h3>
      <div class="options">
        <div class="icon" id="rock">ğŸ‘ŠğŸ¼</div>
        <div class="icon" id="paper">âœ‹ğŸ¼</div>
        <div class="icon" id="scissor">âœŒğŸ¼</div>
      </div>
    </div>
    <div id="result">
      <div class="icon" id="robot-choice">ğŸ‘ŠğŸ¼</div>
      <h3 id="result-label">VocÃª venceu</h3>
      <div class="icon" id="user-choice">ğŸ‘ŠğŸ¼</div>
      <button>Jogar novamente!</button>
    </div>
  </div>

  <script>
    // elementos clicÃ¡veis
    const rockEl = document.getElementById('rock');
    const paperEl = document.getElementById('paper');
    const scissorEl = document.getElementById('scissor');

    // event listeners
    rockEl.addEventListener('click', startGame);
    paperEl.addEventListener('click', startGame);
    scissorEl.addEventListener('click', startGame);

    // Variaveis de Estado
    let userChoice = '';
    let robotChoice = '';
    let result = '';

    const GAME_OPTIONS = ['rock', 'paper', 'scissor'];
    const WINNER_STATE = {
      'rock': 'scissor',
      'paper': 'rock',
      'scissor': 'paper'
    }

    function startGame(e) {
      userChoice = e.target.id;
      robotChoice = handleRobotChoice();
      result = handleWinner();
      console.log('user:', userChoice);
      console.log('robot:', robotChoice);
      console.log('result', result);
    }

    function getRandomInt(min, max) {
      min = Math.ceil(min);
      max = Math.floor(max);
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function handleRobotChoice() {
      const index = getRandomInt(0, 2);
      return GAME_OPTIONS[index];
    }

    function handleWinner() {
      if (userChoice === robotChoice) return 'draw';
      const userWinsFrom = WINNER_STATE[userChoice];
      if (userWinsFrom === robotChoice) return 'winner';
      else return 'loser';
    }

  </script>
</body>

</html>